<!-- mini_insta/show_profile.html
 Sulaf Al Jabal (sulafaj@bu.edu) 09/25/25
 Description: html file for displaying individual profile-->

{% extends 'mini_insta/base.html' %}

{% block content %}

<h1>@{{profile.username}}</h1>

<main class="grid-container">
<!--scriplet code going through all articles-->
    <profile>
        <div>
            <h2>
                {{profile.display_name}}
            </h2>

            <p>
                {{profile.bio_text}} <br>
                Joined on: {{profile.join_date}} <br>
            </p> 
            <h3><a href = "{% url 'create_post' profile.pk %}">Create a post for {{profile.display_name}}</a></h3>
        </div>

        <img src="{{profile.profile_image_url}}" alt="">
    </profile>

    <div id = "profile-info">
        <h4 id = "post_num">
            Posts
            {{profile.get_all_posts.count}}
        </h4>   
        <h4 id = "followers">
            TBD followers
        </h4>
        <h4 id = "following">
            TBD Following
        </h4>
    </div>  
    <div>
        <h3>All posts by {{profile.display_name}}</h3>
        <post>
            {% for post in profile.get_all_posts %}
                <img src="{{post.get_all_photos.first.image_url}}" alt="No photo available..." width="400"> <br>
                <p>
                    "    {{post.caption}}    " <br>
                    Uploaded: {{post.timestamp}} <br>
                </p>
            {% endfor %}
        </post>

    </div>  
</main>

{% endblock %}