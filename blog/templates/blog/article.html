<!-- blog/article.html-->

{% extends 'blog/base.html' %}

{% block content %}
<h1>{{article.title}}</h1>


 <main class="grid-container">
    <!--scriplet code going through all articles-->
        <article class = "featured">
            {% if article.image_file %}
                <img src = "{{article.image_file.url}}" alt="">
            {% else %}
                <h3>No image available</h3>
            {% endif %}
            <div>
                <h2>{{article.title}}</h2>
                <h3>By {{article.author}}</h3>
                <p>
                    {{article.text}}
                </p>
            </div>
            <div>
                <!--Update this article-->
                <h3>
                    <a href="{% url 'update_article' article.pk %}">Update this article</a>
                </h3>
            </div>

        </article>

    
        <div>
            <h2>Comments</h2>
            <h3>
                <a href = "{% url 'create_comment' article.pk %}">Create a comment</a>
            </h3>
            <!--Discplays the comments about this article-->
            {% for comment in article.get_all_comments %}
                <article>
                    <div>
                        <strong>by {{comment.author}} at {{comment.published}}</strong>
                        <p>
                            {{comment.text}}
                            <a href ="{% url 'delete_comment' comment.pk %}">Delete</a>"
                        </p>
                    </div>
                </article>
            {% endfor %}
        </div>
    </main>

 {% endblock %}